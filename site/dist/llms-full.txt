# page

> AI-native static site generator for the modern web

---

## Documentation

### Getting Started

*Install page and build your first static site in under a minute.*

## Installation

### Quick install (macOS and Linux)

```bash
curl -fsSL https://pagecli.dev/install.sh | sh
```

This downloads a prebuilt binary for your platform and installs it to `~/.local/bin`.

To install a specific version:

```bash
VERSION=v0.1.0 curl -fsSL https://pagecli.dev/install.sh | sh
```

### Quick install (Windows)

```powershell
irm https://pagecli.dev/install.ps1 | iex
```

### Install from source

If you have the Rust toolchain installed (all platforms):

```bash
cargo install page
```

### Platform support

| Platform | Architecture | Install method |
|----------|-------------|----------------|
| macOS | Apple Silicon (M1/M2/M3/M4) | Shell installer or cargo |
| macOS | Intel x86_64 | Shell installer or cargo |
| Linux | x86_64 | Shell installer or cargo |
| Linux | aarch64/arm64 | Shell installer or cargo |
| Windows | x86_64 | PowerShell installer or cargo |

### Verify

```bash
page --version
```

{{% callout(type="tip") %}}
Run `page --help` to see all available commands at a glance.
{{% end %}}

## Create Your First Site

Scaffold a new site with posts, docs, and pages collections:

```bash
page init mysite --title "My Site" --description "A personal blog" --collections posts,docs,pages
cd mysite
```

{{% callout(type="info") %}}
All flags are optional. Run `page init mysite` and interactive prompts will guide you through each setting.
{{% end %}}

This creates the following structure:

```
mysite/
├── content/
│   ├── posts/     # Date-based blog posts with RSS
│   ├── docs/      # Documentation with sidebar navigation
│   └── pages/     # Standalone pages (about, contact, etc.)
├── templates/     # Tera templates (override bundled themes)
├── static/        # Static assets (CSS, JS, images)
├── page.toml      # Site configuration
├── .claude/       # Claude Code agent configuration (includes MCP server)
└── .page/         # Project metadata (version tracking)
```

## Create Content

Add a blog post:

```bash
page new post "Hello World" --tags intro,welcome
```

This creates `content/posts/2026-02-18-hello-world.md` with frontmatter:

```yaml
---
title: "Hello World"
date: 2026-02-18
tags:
  - intro
  - welcome
---

Your content here...
```

Add a documentation page:

```bash
page new doc "Getting Started"
```

Add a standalone page:

```bash
page new page "About"
```

## Build Your Site

Build the site to the `dist/` directory:

```bash
page build
```

The build generates:
- HTML pages with clean URLs (`/posts/hello-world`)
- Markdown copies alongside every HTML file
- RSS feed at `/feed.xml`
- XML sitemap at `/sitemap.xml`
- Search index at `/search-index.json`
- LLM discovery files at `/llms.txt` and `/llms-full.txt`

## Development Server

Start a dev server with live reload:

```bash
page serve
```

The server starts at `http://localhost:3000` (auto-increments if the port is taken) and watches for file changes. An interactive REPL lets you run commands without restarting:

```
page> new post "Another Post"
page> theme apply dark
page> build
page> status
page> stop
```

{{% callout(type="tip") %}}
The REPL is the fastest way to iterate. Create content, switch themes, and rebuild — all without leaving the dev server.
{{% end %}}

## Themes

List available themes:

```bash
page theme list
```

Apply a bundled theme:

```bash
page theme apply dark
```

Generate a custom theme with AI:

```bash
page theme create "minimal serif with warm colors"
```

## Updating

Update the binary itself:

```bash
page self-update
```

After updating, bring your project's config files up to date:

```bash
page upgrade
```

This adds any new configuration that shipped with the new version (e.g., MCP server settings, new permission entries). It's additive and non-destructive — your existing settings are preserved.

## Next Steps

- [Collections](/docs/collections) — understand how posts, docs, and pages work and how to customize them
- [Configuration](/docs/configuration) — the full `page.toml` reference when you need to tune settings
- [Templates & Themes](/docs/templates) — customize the look, override blocks, and browse the 6 bundled themes
- [Deployment](/docs/deployment) — ship your site to GitHub Pages, Cloudflare, or Netlify
- [Workspaces](/docs/workspace) — manage multiple sites in a single repository
- [AI Agent](/docs/agent) — let Claude write content, debug builds, and generate themes for you
- [MCP Server](/docs/mcp-server) — structured AI access to your site via the Model Context Protocol


---

### Configuration

*Complete page.toml reference — site settings, collections, build options, deployment, languages, and images.*

## Overview

All configuration lives in `page.toml` at the project root. Here's a complete example:

```toml
[site]
title = "My Site"
description = "A personal blog and documentation"
base_url = "https://example.com"
language = "en"
author = "Jane Doe"

[[collections]]
name = "posts"
paginate = 10

[[collections]]
name = "docs"

[[collections]]
name = "pages"

[build]
output_dir = "dist"
minify = true
fingerprint = true

[deploy]
target = "github-pages"

[languages.es]
title = "Mi Sitio"
description = "Un blog personal"

[images]
widths = [480, 800, 1200]
quality = 80
webp = true
lazy_loading = true

[analytics]
provider = "google"
id = "G-XXXXXXXXXX"
cookie_consent = true
```

## [site]

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `title` | string | required | Site title, used in templates and meta tags |
| `description` | string | `""` | Site description for SEO |
| `base_url` | string | `"http://localhost:3000"` | Full base URL for canonical links, sitemap, RSS |
| `language` | string | `"en"` | Default language code |
| `author` | string | `""` | Author name for JSON-LD and RSS |

{{% callout(type="warning") %}}
Set `base_url` to your real domain before deploying. Leaving it as `localhost` will trigger a pre-flight warning and produce incorrect canonical URLs, sitemaps, and RSS feeds.
{{% end %}}

## [[collections]]

Each `[[collections]]` entry defines a content collection. See [Collections](/docs/collections) for full details.

```toml
[[collections]]
name = "posts"
label = "Blog"
directory = "posts"
url_prefix = "/posts"
default_template = "post.html"
has_date = true
has_rss = true
listed = true
nested = false
paginate = 10
```

## [build]

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `output_dir` | string | `"dist"` | Build output directory |
| `data_dir` | string | `"data"` | Directory for data files (YAML/JSON/TOML) |
| `minify` | bool | `false` | Strip CSS/JS comments and collapse whitespace |
| `fingerprint` | bool | `false` | Add content hash to asset filenames for cache busting |

{{% callout(type="tip") %}}
Enable `minify` for production builds — it strips CSS/JS comments and collapses whitespace for smaller files. Enable `fingerprint` when your CDN caches aggressively — content hashes in filenames ensure browsers always fetch the latest version.
{{% end %}}

When `fingerprint = true`, static files get hashed names (e.g., `style.a1b2c3d4.css`) and an `asset-manifest.json` is written to the output directory.

## Data Files

Place YAML, JSON, or TOML files in the `data/` directory to make structured data available in all templates as `{{ data.filename }}`.

### Supported formats

| Extension | Format |
|-----------|--------|
| `.yaml`, `.yml` | YAML |
| `.json` | JSON |
| `.toml` | TOML |

### Nested directories

Subdirectories create nested keys:

```
data/
  nav.yaml          → {{ data.nav }}
  authors.json      → {{ data.authors }}
  menus/
    main.yaml       → {{ data.menus.main }}
    footer.yaml     → {{ data.menus.footer }}
```

### Theme integration

All bundled themes conditionally render `data.nav` for header navigation and `data.footer` for footer links and copyright. Example `data/nav.yaml`:

```yaml
- title: Blog
  url: /posts
- title: About
  url: /about
- title: Docs
  url: /docs
```

Example `data/footer.yaml`:

```yaml
links:
  - title: GitHub
    url: https://github.com/user/repo
  - title: Twitter
    url: https://twitter.com/user
copyright: "2026 My Company"
```

### Conflict detection

The build will error if two data files share the same stem (e.g., `authors.yaml` and `authors.json`) or if a file and directory conflict (e.g., `nav.yaml` and `nav/main.yaml`). Unknown file extensions are skipped with a warning.

## [deploy]

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `target` | string | `"github-pages"` | Deploy target: `github-pages`, `cloudflare`, `netlify` |
| `repo` | string | auto-detected | Git repository URL (GitHub Pages) |
| `project` | string | auto-detected | Project name (Cloudflare Pages) |
| `auto_commit` | bool | `true` | Auto-commit and push before deploying. On non-main branches, auto-uses preview mode |

## [languages.*]

Optional. Add language sections to enable multi-language support:

```toml
[languages.es]
title = "Mi Sitio"
description = "Un blog personal y documentaci&oacute;n"

[languages.fr]
title = "Mon Site"
```

Each language can override `title` and `description`. See [Multi-language](/docs/i18n) for details.

## [images]

Optional. When this section is present, `page` automatically processes images in `static/`. When omitted, images are copied as-is with no resizing or rewriting. New projects created with `page init` include this section by default.

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `widths` | array | `[480, 800, 1200]` | Target widths in pixels for resized copies |
| `quality` | int | `80` | JPEG/WebP quality (1-100) |
| `webp` | bool | `true` | Generate WebP variants |
| `lazy_loading` | bool | `true` | Add `loading="lazy"` to `<img>` tags |

When configured, images in `static/` are resized to each width, optionally converted to WebP, and `<img>` tags in HTML are rewritten with `srcset` and `<picture>` elements. To disable image processing, remove the `[images]` section entirely.

## [analytics]

Optional. When present, analytics scripts are automatically injected into every HTML page during build. Supports Google Analytics 4, Google Tag Manager, Plausible, Fathom, and Umami.

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `provider` | string | required | Analytics provider: `google`, `gtm`, `plausible`, `fathom`, `umami` |
| `id` | string | required | Measurement/tracking ID (e.g., `G-XXXXXXX`, `GTM-XXXXX`, domain, or site ID) |
| `cookie_consent` | bool | `false` | Show a cookie consent banner and gate analytics on user acceptance |
| `script_url` | string | varies | Custom script URL (required for self-hosted Umami, optional for others) |

### Examples

**Google Analytics 4 (direct):**

```toml
[analytics]
provider = "google"
id = "G-XXXXXXXXXX"
```

**Google Analytics 4 with cookie consent banner:**

```toml
[analytics]
provider = "google"
id = "G-XXXXXXXXXX"
cookie_consent = true
```

**Google Tag Manager:**

```toml
[analytics]
provider = "gtm"
id = "GTM-XXXXXXX"
cookie_consent = true
```

**Plausible Analytics (privacy-friendly, no cookies):**

```toml
[analytics]
provider = "plausible"
id = "example.com"
```

**Fathom Analytics:**

```toml
[analytics]
provider = "fathom"
id = "ABCDEF"
```

**Self-hosted Umami:**

```toml
[analytics]
provider = "umami"
id = "abc-def-123"
script_url = "https://stats.example.com/script.js"
```

{{% callout(type="tip") %}}
Privacy-respecting analytics like Plausible, Fathom, and Umami don't use cookies. You can typically use them without a consent banner (`cookie_consent = false`). Google Analytics and GTM set cookies and may require consent under GDPR/ePrivacy — set `cookie_consent = true` for those.
{{% end %}}

### Cookie consent banner

When `cookie_consent = true`, a fixed-position banner appears at the bottom of the page on the visitor's first visit. Analytics scripts only load after the visitor clicks "Accept". The choice is stored in `localStorage` so it persists across visits. The banner is fully accessible with `role="dialog"`, keyboard-navigable buttons, and responsive design.

### How it works

Analytics injection happens as a post-processing step after the main build. Every `.html` file in the output directory is rewritten:

- **Without consent:** the analytics `<script>` tag is injected before `</head>`. GTM also gets a `<noscript>` fallback after `<body>`.
- **With consent:** a consent banner with Accept/Decline buttons is injected before `</body>`. Analytics scripts are loaded dynamically only after the user accepts.

To remove analytics, delete the `[analytics]` section from `page.toml`.

## Frontmatter

Content files use YAML frontmatter between `---` delimiters:

```yaml
---
title: "Page Title"
date: 2026-02-18
updated: 2026-02-19
description: "Used in meta tags, OG, Twitter Cards, JSON-LD"
image: /static/preview.jpg
slug: custom-slug
tags:
  - rust
  - web
draft: true
template: custom.html
robots: noindex
extra:
  hero: true
  color: "#4361EE"
---
```

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `title` | string | Yes | Page title |
| `date` | date | Posts only | Publication date (YYYY-MM-DD) |
| `updated` | date | No | Last modified date |
| `description` | string | No | SEO description |
| `image` | string | No | Social preview image |
| `slug` | string | No | Override auto-generated slug |
| `tags` | list | No | Content tags |
| `draft` | bool | No | Exclude from build unless `--drafts` |
| `template` | string | No | Override default template |
| `robots` | string | No | Per-page robots directive |
| `extra` | map | No | Arbitrary data for templates |

## page-workspace.toml

For multi-site setups, a `page-workspace.toml` at the workspace root configures all sites. Each site still has its own `page.toml`.

```toml
[workspace]
name = "my-workspace"
shared_data = "data"           # Shared data directory (optional)
shared_static = "static"       # Shared static assets (optional)
shared_templates = "templates" # Shared templates (optional)

[[sites]]
name = "blog"
path = "sites/blog"
# base_url = "https://blog.example.com"  # Override site base_url
# output_dir = "dist/blog"               # Override output location

[[sites]]
name = "docs"
path = "sites/docs"

[cross_site]
unified_sitemap = false    # Combine all sites into one sitemap
cross_site_links = false   # Validate links across sites
unified_search = false     # Combined search index
```

See [Workspaces](/docs/workspace) for the full guide.

## Next Steps

- [Collections](/docs/collections) — configure how posts, docs, and pages behave
- [Templates & Themes](/docs/templates) — use config values and data files in your templates
- [Deployment](/docs/deployment) — deploy with the settings you've configured
- [Workspaces](/docs/workspace) — manage multiple sites in a single repository


---

### Collections

*Configure content collections — posts, docs, pages, changelog, roadmap, and trust center — with pagination, date handling, and RSS.*

## Overview

Collections are groups of related content. Each collection has its own directory under `content/`, URL prefix, and template. Five presets are available:

| Preset | Directory | Dated | RSS | Listed | Nested | URL Pattern |
|--------|-----------|-------|-----|--------|--------|-------------|
| posts  | `content/posts/` | Yes | Yes | Yes | No | `/posts/slug` |
| docs   | `content/docs/`  | No  | No  | Yes | Yes | `/docs/slug` |
| pages  | `content/pages/` | No  | No  | No  | No | `/slug` |
| changelog | `content/changelog/` | Yes | Yes | Yes | No | `/changelog/slug` |
| roadmap | `content/roadmap/` | No | No | Yes | No | `/roadmap/slug` |
| trust  | `content/trust/`   | No | No | Yes | Yes | `/trust/slug` |

## Defining Collections

Collections are configured in `page.toml`:

```toml
[[collections]]
name = "posts"

[[collections]]
name = "docs"

[[collections]]
name = "pages"
```

Each preset comes with sensible defaults. You can override any field:

```toml
[[collections]]
name = "posts"
label = "Blog"
paginate = 10
```

## Collection Fields

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `name` | string | required | Collection identifier |
| `label` | string | capitalized name | Display name in templates |
| `directory` | string | name | Content directory under `content/` |
| `url_prefix` | string | `/name` | URL prefix for items |
| `default_template` | string | preset-based | Template file for rendering |
| `has_date` | bool | preset-based | Items have dates |
| `has_rss` | bool | preset-based | Include in RSS feed |
| `listed` | bool | preset-based | Show on index page |
| `nested` | bool | preset-based | Support subdirectories as groups |
| `paginate` | int | none | Items per page (enables pagination) |

## Posts

Posts are date-based content. Filenames should include the date:

```
content/posts/
├── 2026-01-15-hello-world.md
├── 2026-02-01-rust-tips.md
└── 2026-02-18-new-feature.md
```

The date is parsed from the filename (`YYYY-MM-DD-slug.md`) or from frontmatter. Posts are sorted by date (newest first) and included in the RSS feed.

{{% callout(type="tip") %}}
Use `page serve --drafts` to preview draft posts during development. Drafts are excluded from production builds by default.
{{% end %}}

## Docs

Docs support nested directories for grouped navigation:

```
content/docs/
├── getting-started.md
├── guides/
│   ├── setup.md
│   └── advanced.md
└── reference/
    ├── api.md
    └── config.md
```

Nested docs get URLs like `/docs/guides/setup`. The docs theme shows a sidebar with sections grouped by directory.

{{% callout(type="info") %}}
Subdirectories automatically become sidebar sections. Create `content/docs/guides/` and every markdown file inside it appears under a "Guides" heading in the sidebar navigation.
{{% end %}}

### Sidebar Ordering

By default, docs are sorted alphabetically by title. Use `weight` in frontmatter to control the order:

```yaml
---
title: "Getting Started"
weight: 1
---
```

Lower values appear first. Items without `weight` sort alphabetically after all weighted items. This lets you create a guided learning path instead of a plain alphabetical list.

## Pages

Pages are standalone content at root URLs. They're unlisted (not shown on the index page):

```
content/pages/
├── about.md        → /about
├── contact.md      → /contact
└── index.md        → / (homepage content)
```

The special file `content/pages/index.md` injects its content into the homepage template as `{{ page.content }}`.

## Changelog

The changelog collection is for release notes and version history. Entries are date-based with RSS support, so users can subscribe to updates.

```
content/changelog/
├── 2026-01-15-v0-1-0.md
├── 2026-02-01-v0-2-0.md
└── 2026-02-18-v1-0-0.md
```

Use tags to categorize changes. Tags render as colored badges in the changelog templates:

- `new` — new features (green)
- `fix` — bug fixes (blue)
- `breaking` — breaking changes (red)
- `improvement` — enhancements (purple)
- `deprecated` — deprecations (gray)

```bash
page new changelog "v1.0.0" --tags new,improvement
```

## Roadmap

The roadmap collection is for sharing your project's public roadmap. Items are ordered by `weight` (not date) and grouped by status tags.

```
content/roadmap/
├── dark-mode.md
├── api-v2.md
└── initial-release.md
```

Use tags for status and `weight` for priority ordering within each group:

- `planned` — upcoming work
- `in-progress` — actively being worked on
- `done` — completed
- `cancelled` — no longer planned

```yaml
---
title: "Dark Mode"
tags:
  - planned
weight: 1
---
```

Three index layouts are available. The default groups items by status. To switch layouts, create `templates/roadmap-index.html`:

```html
{# Kanban board (3-column CSS grid): #}
{% extends "roadmap-kanban.html" %}

{# Or timeline (vertical milestones): #}
{% extends "roadmap-timeline.html" %}
```

```bash
page new roadmap "Feature Name" --tags planned
```

## Pagination

Enable pagination on any listed collection:

```toml
[[collections]]
name = "posts"
paginate = 10
```

This generates:
- `/posts/` — page 1
- `/posts/page/2/` — page 2
- `/posts/page/3/` — page 3, etc.

Templates receive pagination context:

```
{{ pagination.current_page }}
{{ pagination.total_pages }}
{{ pagination.prev_url }}
{{ pagination.next_url }}
```

## Singular/Plural

Both `page new post` and `page new posts` work — the CLI normalizes singular to plural automatically.

## Tag Pages

Tags are collected from all posts and generate archive pages:

- `/tags/` — tag index with all tags and counts
- `/tags/rust/` — all posts tagged "rust"

Tag pages are i18n-aware and included in the sitemap.

## Next Steps

- [Configuration](/docs/configuration) — full reference for all collection fields and site settings
- [Templates & Themes](/docs/templates) — customize how collections are rendered
- [Shortcodes](/docs/shortcodes) — add rich content like videos, callouts, and figures to your pages


---

### Templates & Themes

*Customize your site with Tera templates, overridable blocks, and six bundled themes.*

## Template Engine

`page` uses Tera, a Jinja2-compatible template engine. All templates extend `base.html`. User templates in `templates/` override bundled defaults.

## Template Variables

### Site variables

| Variable | Description |
|----------|-------------|
| `{{ site.title }}` | Site title |
| `{{ site.description }}` | Site description |
| `{{ site.base_url }}` | Base URL (e.g., `https://example.com`) |
| `{{ site.language }}` | Default language code |
| `{{ site.author }}` | Site author |

### Page variables

| Variable | Description |
|----------|-------------|
| `{{ page.title }}` | Page title |
| `{{ page.content }}` | Rendered HTML content (use with `\| safe`) |
| `{{ page.date }}` | Publication date (posts) |
| `{{ page.updated }}` | Last modified date |
| `{{ page.description }}` | Page description |
| `{{ page.image }}` | Social preview image URL |
| `{{ page.slug }}` | URL slug |
| `{{ page.tags }}` | List of tags |
| `{{ page.url }}` | Page URL path |
| `{{ page.collection }}` | Collection name |
| `{{ page.robots }}` | Robots meta directive |
| `{{ page.word_count }}` | Word count |
| `{{ page.reading_time }}` | Reading time in minutes |
| `{{ page.excerpt }}` | Auto-extracted excerpt (HTML) |
| `{{ page.toc }}` | Table of contents entries |
| `{{ page.extra }}` | Custom frontmatter data |

### Context variables

| Variable | Description |
|----------|-------------|
| `{{ collections }}` | List of collections (index pages) |
| `{{ nav }}` | Navigation sections (doc pages) |
| `{{ data }}` | Data files from `data/` directory |
| `{{ lang }}` | Current language code |
| `{{ translations }}` | Available translations |
| `{{ default_language }}` | Default language code (from `page.toml`) |
| `{{ lang_prefix }}` | URL prefix for current language (empty for default, `"/es"` for others) |
| `{{ t }}` | UI translation strings object (override via `data/i18n/{lang}.yaml`) |
| `{{ pagination }}` | Pagination context |

## Overridable Blocks

All bundled themes provide these blocks for customization:

```html
{% block title %}...{% endblock %}       <!-- Page title -->
{% block head %}{% endblock %}            <!-- Extra head content -->
{% block extra_css %}{% endblock %}       <!-- Page-specific CSS -->
{% block header %}...{% endblock %}       <!-- Header/nav area -->
{% block content %}...{% endblock %}      <!-- Main content -->
{% block footer %}{% endblock %}          <!-- Footer content -->
{% block extra_js %}{% endblock %}        <!-- Page-specific JS -->
```

To override a block, create a template that extends `base.html`:

```html
{% extends "base.html" %}

{% block extra_css %}
<style>
  .custom-class { color: red; }
</style>
{% endblock %}

{% block content %}
<div class="custom-class">
  {{ page.content | safe }}
</div>
{% endblock %}
```

Here's a more complete example — a custom `post.html` with reading time, tags, and a back link:

```html
{% extends "base.html" %}

{% block content %}
<article>
  <h1>{{ page.title }}</h1>
  <p>{{ page.date }} · {{ page.reading_time }} min read</p>
  {{ page.content | safe }}
  {% if page.tags %}
  <div class="tags">
    {% for tag in page.tags %}<span>{{ tag }}</span>{% endfor %}
  </div>
  {% endif %}
  <a href="/posts">Back to all posts</a>
</article>
{% endblock %}
```

{{% callout(type="info") %}}
Always use `| safe` with `{{ page.content }}`. Tera escapes HTML by default, so without `| safe` your rendered content would display as raw HTML tags.
{{% end %}}

## Extra Frontmatter

Pass arbitrary data to templates using the `extra` field:

```yaml
---
title: "My Page"
extra:
  hero_image: /static/hero.jpg
  show_sidebar: false
  custom_color: "#ff6600"
---
```

Access in templates:

```html
{% if page.extra.hero_image %}
<img src="{{ page.extra.hero_image }}" alt="Hero">
{% endif %}
```

{{% callout(type="tip") %}}
Create `data/nav.yaml` with your links and every bundled theme renders header navigation automatically — no template editing needed.
{{% end %}}

## Data Files in Templates

Place YAML, JSON, or TOML files in the `data/` directory to inject structured data into all templates. Files are accessible via `{{ data.filename }}`.

### Navigation example

Create `data/nav.yaml`:

```yaml
- title: Blog
  url: /posts
- title: About
  url: /about
```

Use in templates:

```html
{% if data.nav %}
<nav>
  {% for item in data.nav %}
  <a href="{{ item.url }}">{{ item.title }}</a>
  {% endfor %}
</nav>
{% endif %}
```

### Footer example

Create `data/footer.yaml`:

```yaml
links:
  - title: GitHub
    url: https://github.com/user/repo
copyright: "2026 My Company"
```

Use in templates:

```html
{% if data.footer %}
  {% if data.footer.links %}
  <nav>
    {% for link in data.footer.links %}
    <a href="{{ link.url }}">{{ link.title }}</a>
    {% endfor %}
  </nav>
  {% endif %}
  <p>{{ data.footer.copyright }}</p>
{% endif %}
```

All 6 bundled themes render `data.nav` and `data.footer` automatically when present. See [Configuration](/docs/configuration#data-files) for supported formats and directory structure.

## Bundled Themes

Six themes ship with the binary — no downloads needed:

### default
Clean baseline. 720px centered column, system-ui font, blue links. Good starting point.

### minimal
Literary/essay feel. 600px column, Georgia serif, bottom-border-only search input. Typography carries all personality.

### dark
True black (`#0a0a0a`) background, violet (`#8b5cf6`) accent. Styled focus rings, high-contrast text.

### docs
Documentation layout. Fixed 260px sidebar with auto-generated navigation, GitHub-style colors. Best for technical documentation.

### brutalist
Neo-brutalist design. Cream background, 3px black borders, hard non-blurred shadows, yellow (`#ffe600`) accent. No border-radius.

### bento
Card grid layout. 1000px column, CSS grid with mixed card sizes, border-radius 20px, soft shadows. Dark/indigo accent cards.

## Applying Themes

```bash
page theme list              # Show all bundled + installed themes
page theme apply dark        # Apply a bundled theme
page theme apply my-custom   # Apply an installed theme
```

See the [Theme Gallery](/docs/theme-gallery) for visual previews of all bundled themes.

## Installing & Sharing Themes

Download community themes from a URL, or export your own:

```bash
page theme install https://example.com/themes/aurora.tera
page theme install https://example.com/themes/aurora.tera --name my-aurora
page theme export my-theme --description "Dark theme with green accents"
```

Installed themes are saved to `templates/themes/<name>.tera` and appear in `page theme list`.

## Custom Themes with AI

Generate a completely custom theme:

```bash
page theme create "minimal serif with warm earth tones and generous whitespace"
```

This uses Claude Code to generate a `templates/base.html` with all required blocks, SEO tags, search, and accessibility features. Export AI-generated themes to share them:

```bash
page theme export earth-tones --description "Warm serif theme with earth tones"
```

## Table of Contents

Docs and posts automatically get a table of contents. Headings receive `id` anchors, and `{{ page.toc }}` provides the structured data:

```html
{% if page.toc %}
<nav class="toc">
  {% for entry in page.toc %}
  <a href="#{{ entry.id }}" style="padding-left: {{ entry.level }}em">
    {{ entry.text }}
  </a>
  {% endfor %}
</nav>
{% endif %}
```

## Translatable UI Strings

All bundled themes and default templates use the `{{ t }}` object for UI text. This allows multilingual sites to translate interface strings without overriding entire themes.

### Default Keys

| Key | Default (English) |
|-----|-------------------|
| `t.search_placeholder` | Search… |
| `t.skip_to_content` | Skip to main content |
| `t.no_results` | No results |
| `t.newer` | Newer |
| `t.older` | Older |
| `t.page_n_of_total` | Page {n} of {total} |
| `t.search_label` | Search site content |
| `t.min_read` | min read |
| `t.contents` | Contents |
| `t.tags` | Tags |
| `t.all_tags` | All tags |
| `t.tagged` | Tagged |
| `t.changelog` | Changelog |
| `t.roadmap` | Roadmap |
| `t.not_found_title` | Page Not Found |
| `t.not_found_message` | The page you requested could not be found. |
| `t.go_home` | Go to the homepage |
| `t.in_progress` | In Progress |
| `t.planned` | Planned |
| `t.done` | Done |
| `t.other` | Other |

### Overriding Strings

Create `data/i18n/{lang}.yaml` to override any key for a specific language:

```yaml
# data/i18n/es.yaml
search_placeholder: "Buscar…"
skip_to_content: "Ir al contenido principal"
no_results: "Sin resultados"
newer: "Más recientes"
older: "Más antiguos"
```

## Next Steps

- [Theme Gallery](/docs/theme-gallery) — browse all six bundled themes with visual previews
- [Shortcodes](/docs/shortcodes) — add videos, callouts, and figures to your content
- [Configuration](/docs/configuration) — data file setup and all `page.toml` options


---

### Shortcodes

*Reusable content components for embedding videos, callouts, figures, and custom elements in markdown*

Shortcodes are reusable content components you can use inside markdown files. They let you embed rich content like videos, callout boxes, and figures without writing raw HTML.

## Syntax

There are two types of shortcodes:

### Inline shortcodes

Output raw HTML. Use `{{<` and `>}}` delimiters:

```
{{< youtube(id="dQw4w9WgXcQ") >}}
```

### Body shortcodes

Wrap markdown content that gets processed normally. Use `{{% ` and ` %}}` delimiters with a `{{% end %}}` closing tag:

```
{{% callout(type="warning") %}}
This is **bold** markdown inside the callout.
{{% end %}}
```

{{% callout(type="tip") %}}
Content inside body shortcodes is processed as regular markdown — bold, links, lists, and code blocks all work as expected.
{{% end %}}

### Arguments

All arguments are named (key=value). Supported value types:

- **Strings**: `id="dQw4w9WgXcQ"` (quoted)
- **Integers**: `width=800`
- **Floats**: `ratio=1.5`
- **Booleans**: `autoplay=true`

## Built-in shortcodes

### youtube

Embeds a responsive YouTube video player.

```
{{< youtube(id="dQw4w9WgXcQ") >}}
```

| Parameter | Required | Description |
|-----------|----------|-------------|
| `id` | yes | YouTube video ID |
| `start` | no | Start time in seconds |
| `title` | no | Accessible title (default: "YouTube video") |

### vimeo

Embeds a responsive Vimeo video player.

```
{{< vimeo(id="123456") >}}
```

| Parameter | Required | Description |
|-----------|----------|-------------|
| `id` | yes | Vimeo video ID |
| `title` | no | Accessible title (default: "Vimeo video") |

### gist

Embeds a GitHub Gist.

```
{{< gist(user="octocat", id="abc123") >}}
```

| Parameter | Required | Description |
|-----------|----------|-------------|
| `user` | yes | GitHub username |
| `id` | yes | Gist ID |

### figure

Renders a semantic `<figure>` element with optional caption.

```
{{< figure(src="/static/photo.jpg", caption="Sunset over the bay", alt="Orange sunset") >}}
```

| Parameter | Required | Description |
|-----------|----------|-------------|
| `src` | yes | Image path or URL |
| `alt` | no | Alt text for accessibility |
| `caption` | no | Caption displayed below the image |
| `width` | no | Image width attribute |
| `height` | no | Image height attribute |
| `class` | no | CSS class on the figure element |

### callout

Renders an admonition/callout box. This is a **body shortcode** — the content between the tags is processed as markdown.

```
{{% callout(type="warning") %}}
Be careful with this operation. It **cannot be undone**.
{{% end %}}
```

| Parameter | Required | Description |
|-----------|----------|-------------|
| `type` | no | Box style: `info` (default), `warning`, `danger`, `tip` |

All six bundled themes include styled callout boxes with appropriate colors for each type.

## Custom shortcodes

Create Tera templates in the `templates/shortcodes/` directory. Each `.html` file becomes a shortcode named after the file.

### Example: alert shortcode

Create `templates/shortcodes/alert.html`:

```html
<div class="alert alert-{{ level | default(value='info') }}">
{{ body }}
</div>
```

Use in markdown:

```
{{% alert(level="error") %}}
Something went wrong. Please try again.
{{% end %}}
```

### Template variables

Shortcode templates have access to:

- All named arguments as top-level variables
- `{{ body }}` — the raw body content (for body shortcodes)
- `{{ page }}` — current page context (title, slug, tags, etc.)
- `{{ site }}` — site context (title, base_url, language)

### Example: button shortcode with conditional styling

Create `templates/shortcodes/button.html`:

```html
<a href="{{ url }}"
   class="btn{% if style %} btn-{{ style }}{% endif %}"
   {% if external %}target="_blank" rel="noopener"{% endif %}>
  {{ label | default(value="Click here") }}
</a>
```

Use in markdown:

```
{{< button(url="/docs/getting-started", label="Get Started", style="primary") >}}
{{< button(url="https://github.com/user/repo", label="GitHub", external=true) >}}
```

### Overriding built-in shortcodes

To customize a built-in shortcode, create a file with the same name in `templates/shortcodes/`. For example, `templates/shortcodes/youtube.html` will override the built-in YouTube embed.

## Escaping shortcodes

To show shortcode syntax literally (e.g., in documentation), put it inside a fenced code block:

````
```
{{< youtube(id="example") >}}
```
````

Shortcodes inside fenced code blocks and inline code spans are never expanded.

## Error handling

- **Unknown shortcode**: Build fails with the shortcode name and available alternatives
- **Unclosed body shortcode**: Build fails with the file path and line number
- **Missing arguments**: Build fails when the template references an undefined variable
- **Invalid syntax**: Build fails with a descriptive error and line number

All error messages include the source file path and line number for quick debugging.

## Next Steps

- [Templates & Themes](/docs/templates) — template variables available inside shortcode templates
- [Theme Gallery](/docs/theme-gallery) — all bundled themes include styling for built-in shortcodes


---

### Multi-Language

*Add translations to your site with filename-based i18n — per-language URLs, RSS, sitemaps, and discovery files.*

## Overview

`page` uses a filename-based translation system. It's fully backward compatible — single-language sites work identically with no configuration.

{{% callout(type="info") %}}
Single-language sites need zero i18n config. Everything works identically whether or not you add `[languages.*]` sections. i18n is purely additive.
{{% end %}}

## How It Works

Default language content uses plain filenames:

```
content/posts/hello-world.md     → /posts/hello-world
content/pages/about.md           → /about
```

Translations add a language suffix before the extension:

```
content/posts/hello-world.es.md  → /es/posts/hello-world
content/pages/about.es.md        → /es/about
```

Items with the same slug across languages are automatically linked as translations.

## Configuration

Enable multi-language support by adding language sections to `page.toml`:

```toml
[site]
language = "en"
title = "My Site"

[languages.es]
title = "Mi Sitio"
description = "Un sitio web est&aacute;tico"

[languages.fr]
title = "Mon Site"
description = "Un site web statique"
```

Each language can override `title` and `description`. The default language is set in `[site].language`.

## Creating Translations

Use the `--lang` flag with `page new`:

```bash
page new post "Hello World"             # English (default)
page new post "Hola Mundo" --lang es    # Spanish translation
```

Or create files manually — the language suffix must match a configured language code:

```
about.md      → English (default)
about.es.md   → Spanish
about.fr.md   → French
about.xx.md   → Ignored (xx not configured)
```

{{% callout(type="tip") %}}
Files with a `.xx.md` suffix are safely ignored if `xx` isn't a configured language. You won't accidentally create broken translations from random filename patterns.
{{% end %}}

## Per-Language Output

When multi-language is enabled, `page` generates per-language versions of:

| Output | Default language | Other languages |
|--------|-----------------|-----------------|
| Index page | `dist/index.html` | `dist/{lang}/index.html` |
| RSS feed | `dist/feed.xml` | `dist/{lang}/feed.xml` |
| LLM discovery | `dist/llms.txt` | `dist/{lang}/llms.txt` |
| Search index | `dist/search-index.json` | `dist/{lang}/search-index.json` |
| Sitemap | `dist/sitemap.xml` (all languages, with alternates) | |

## URL Structure

Non-default languages get a `/{lang}/` prefix:

```
/posts/hello-world          # English
/es/posts/hello-world       # Spanish
/fr/posts/hello-world       # French
```

## hreflang Tags

All bundled themes automatically emit `<link rel="alternate" hreflang="...">` tags when translations exist, helping search engines serve the right language.

## Language Switcher

Bundled themes include a language switcher UI when `translations` is non-empty. It shows links to all available translations of the current page.

## Template Variables

| Variable | Description |
|----------|-------------|
| `{{ lang }}` | Current page language code |
| `{{ translations }}` | Array of `{lang, url}` for available translations |
| `{{ site.language }}` | Configured default language |
| `{{ default_language }}` | Default language code (from `page.toml`) |
| `{{ lang_prefix }}` | URL prefix for current language (empty for default, `"/es"` for others) |
| `{{ t }}` | UI translation strings object (override via `data/i18n/{lang}.yaml`) |

Use in templates:

```html
{% if translations %}
<nav class="lang-switcher">
  {% for t in translations %}
    {% if t.lang == lang %}
      <strong>{{ t.lang }}</strong>
    {% else %}
      <a href="{{ t.url }}">{{ t.lang }}</a>
    {% endif %}
  {% endfor %}
</nav>
{% endif %}
```

## Navigation and Footer Links

Data file links in `data/nav.yaml` and `data/footer.yaml` can use the `external: true` flag to distinguish external URLs from internal ones. This lets themes apply the `{{ lang_prefix }}` only to internal links, so navigation works correctly across languages:

```yaml
# data/nav.yaml
- title: Blog
  url: /posts
- title: About
  url: /about
- title: GitHub
  url: https://github.com/user/repo
  external: true
```

In templates, check for `external` to decide whether to prepend the language prefix:

```html
{% for item in data.nav %}
  {% if item.external %}
    <a href="{{ item.url }}">{{ item.title }}</a>
  {% else %}
    <a href="{{ lang_prefix }}{{ item.url }}">{{ item.title }}</a>
  {% endif %}
{% endfor %}
```

All bundled themes handle this automatically when `data.nav` or `data.footer` are present.

## UI String Translations

Bundled themes use the `{{ t }}` object for all user-facing UI text (buttons, labels, placeholders). This means you can translate the interface without overriding entire theme templates.

### How it works

1. The build pipeline provides English defaults for all UI strings
2. To override strings for a specific language, create `data/i18n/{lang}.yaml`
3. Only the keys you define are overridden — everything else falls back to English

### Example

```yaml
# data/i18n/es.yaml
search_placeholder: "Buscar…"
skip_to_content: "Ir al contenido principal"
no_results: "Sin resultados"
newer: "Más recientes"
older: "Más antiguos"
tags: "Etiquetas"
min_read: "min de lectura"
```

```yaml
# data/i18n/fr.yaml
search_placeholder: "Rechercher…"
skip_to_content: "Aller au contenu principal"
no_results: "Aucun résultat"
newer: "Plus récent"
older: "Plus ancien"
tags: "Mots-clés"
min_read: "min de lecture"
```

See [Templates & Themes](/docs/templates#translatable-ui-strings) for the full list of available keys and their English defaults.

## Next Steps

- [Collections](/docs/collections) — how translations work across posts, docs, and pages
- [Templates & Themes](/docs/templates) — language switcher template code and theme blocks
- [Deployment](/docs/deployment) — per-language output files and how they deploy


---

### Deployment

*Deploy your page site to GitHub Pages, Cloudflare Pages, or Netlify.*

## Overview

`page` supports three deployment targets out of the box:

- **GitHub Pages** — git-based deployment with auto-generated GitHub Actions
- **Cloudflare Pages** — wrangler-based deployment
- **Netlify** — CLI-based deployment

## Which Target Should I Choose?

| Target | Best for | Highlights |
|--------|----------|------------|
| **GitHub Pages** | Open-source projects | Simplest setup, free, auto-generated CI workflow |
| **Cloudflare Pages** | Production sites | Fastest global CDN, custom domain API, preview deploys |
| **Netlify** | Team workflows | Familiar DX, draft deploys, easy rollbacks |

All three are free for static sites. You can switch targets anytime by changing one line in `page.toml`.

## Configuration

Set the deploy target in `page.toml`:

```toml
[deploy]
target = "github-pages"
```

{{% callout(type="warning") %}}
Make sure `base_url` in `page.toml` is set to your real domain before deploying. The default `localhost` URL will produce incorrect canonical links, sitemaps, and RSS feeds. Use `--base-url` to override at deploy time without modifying the config file.
{{% end %}}

{{% callout(type="info") %}}
`page` runs pre-flight checks before every deploy — verifying the output directory exists, `base_url` isn't localhost, required CLI tools are installed, and platform config is valid. If a check fails, interactive recovery will offer to fix it.
{{% end %}}

## Auto-Commit and Push

By default, `page deploy` automatically commits all changes and pushes to the remote before building and deploying. This makes deploy a true one-step workflow.

**Branch-based preview:** when you deploy from a branch other than `main` or `master`, `page` automatically deploys as a preview instead of production. No need to pass `--preview` manually.

To disable auto-commit for a project, set `auto_commit = false` in `page.toml`:

```toml
[deploy]
target = "github-pages"
auto_commit = false
```

Or skip it for a single deploy with `--no-commit`:

```bash
page deploy --no-commit
```

## GitHub Pages

The default deployment target. When you run `page init` with `--deploy-target github-pages`, a GitHub Actions workflow is generated at `.github/workflows/deploy.yml` that builds and deploys on every push to `main`.

### Manual deployment

```bash
page build
page deploy
```

This pushes the `dist/` directory to the `gh-pages` branch.

### Dry run

Preview what would be deployed:

```bash
page deploy --dry-run
```

{{% callout(type="tip") %}}
Always run `--dry-run` before your first deploy to verify everything looks right. It shows exactly what would be pushed without making any changes.
{{% end %}}

### Custom repository

```toml
[deploy]
target = "github-pages"
repo = "https://github.com/user/repo.git"
```

## Cloudflare Pages

### Setup

1. Install wrangler: `npm install -g wrangler`
2. Authenticate: `wrangler login`
3. Configure:

```toml
[deploy]
target = "cloudflare"
project = "my-site"
```

The project name is auto-detected from `wrangler.toml` if present.

### Deploy

```bash
page build
page deploy
```

### Dry run

```bash
page deploy --target cloudflare --dry-run
```

## Netlify

### Setup

1. Install Netlify CLI: `npm install -g netlify-cli`
2. Authenticate: `netlify login`
3. Configure:

```toml
[deploy]
target = "netlify"
```

### Deploy

```bash
page build
page deploy
```

### Dry run

```bash
page deploy --target netlify --dry-run
```

## Custom Domains

Set up a custom domain for any deploy target:

```bash
page deploy --domain example.com
```

This will:
1. Print DNS records to add at your registrar
2. Update `base_url` and `deploy.domain` in `page.toml`
3. For Cloudflare: offer to attach the domain to your Pages project via the API
4. For Netlify: offer to add the domain via `netlify domains:add`
5. For GitHub Pages: auto-generate a `CNAME` file on the next deploy

You can also set the domain directly in `page.toml`:

```toml
[deploy]
target = "cloudflare"
project = "my-site"
domain = "example.com"
```

When `deploy.domain` is set, pre-flight checks will verify the domain is attached to your project. If not, the interactive recovery will offer to attach it automatically.

## Override Target

Override the configured target on the command line:

```bash
page deploy --target netlify     # Deploy to Netlify regardless of page.toml
page deploy --target cloudflare  # Deploy to Cloudflare
```

## Build Output

After `page build`, the `dist/` directory contains everything needed:

```
dist/
├── index.html           # Homepage
├── index.md             # Homepage markdown
├── feed.xml             # RSS feed
├── sitemap.xml          # XML sitemap
├── robots.txt           # Robots directives
├── llms.txt             # LLM summary
├── llms-full.txt        # Full LLM content
├── search-index.json    # Client-side search data
├── 404.html             # Error page
├── posts/
│   ├── hello-world.html
│   └── hello-world.md
├── docs/
│   ├── getting-started.html
│   └── getting-started.md
└── static/
    └── ...
```

All three platforms serve `404.html` automatically for missing routes.

## Next Steps

- [Configuration](/docs/configuration) — all deploy-related settings in `page.toml`
- [CLI Reference](/docs/cli-reference) — complete list of `page deploy` flags


---

### Trust Center

*Build a compliance hub with certifications, subprocessors, FAQs, and security policies*

# Trust Center

The trust center is a built-in collection preset that scaffolds a compliance hub for your site. It generates data-driven pages for certifications, subprocessor lists, security FAQs, and policy documents.

## Getting Started

### Add during site creation

```bash
page init mysite --collections posts,pages,trust
```

When `trust` is included, you'll be prompted to select:
- **Company name** — displayed on the trust center
- **Compliance frameworks** — SOC 2, ISO 27001, GDPR, HIPAA, PCI DSS, CCPA, SOC 3
- **Sections** — Security Overview, Certifications, Subprocessors, FAQ, Vulnerability Disclosure, DPA, Changelog
- **Per-framework status** — Active, In Progress, or Planned

### Non-interactive (CI-friendly)

```bash
page init mysite \
  --collections posts,pages,trust \
  --trust-company "Acme Corp" \
  --trust-frameworks soc2,iso27001 \
  --trust-sections overview,certifications,subprocessors,faq,disclosure
```

## Architecture

The trust center has three layers:

1. **Data files** (`data/trust/`) — structured YAML that drives the templates
2. **Content pages** (`content/trust/`) — markdown prose for each section
3. **Templates** — `trust-index.html` (hub page at `/trust/`) and `trust-item.html` (individual pages)

### Scaffolded File Structure

```
data/trust/
├── certifications.yaml    # framework entries with status, dates, auditor
├── subprocessors.yaml     # vendor table with name, purpose, location, DPA
└── faq.yaml               # security Q&A grouped by category

content/trust/
├── security-overview.md           # main security narrative (weight: 1)
├── vulnerability-disclosure.md    # responsible disclosure program (weight: 5)
├── data-processing.md             # DPA / data processing terms (weight: 6)
└── certifications/
    ├── soc2.md                    # per-framework detail pages (weight: 2)
    └── iso27001.md
```

## Data Files

### Certifications (`data/trust/certifications.yaml`)

```yaml
- name: SOC 2 Type II
  slug: soc2
  status: active           # active | in_progress | planned
  framework: soc2
  description: >
    Annual audit covering Security and Availability trust service criteria
  issued: 2025-11-15       # date cert was issued
  expires: 2026-11-15      # expiration date
  auditor: "Deloitte"
  scope: "Security, Availability"
  report_url: "mailto:security@example.com"
```

Status values control the badge display:
- `active` — green badge, shows issued/expires dates
- `in_progress` — yellow badge, shows target date
- `planned` — gray badge, shown on roadmap

### Subprocessors (`data/trust/subprocessors.yaml`)

```yaml
- name: "AWS"
  purpose: "Cloud infrastructure and hosting"
  data_types: ["Customer data", "Application logs"]
  location: "United States"
  dpa: true
```

Fields: `name` (required), `purpose`, `data_types` (array), `location`, `dpa` (boolean).

### FAQ (`data/trust/faq.yaml`)

```yaml
- question: "Do you encrypt data at rest?"
  answer: "Yes. All customer data is encrypted at rest using AES-256 encryption."
  category: encryption
```

Categories group FAQs in the UI: `encryption`, `access`, `data-residency`, `incident-response`, `compliance`, `general`.

## Content Pages

Trust center content files use the standard markdown + YAML frontmatter format. Key frontmatter fields:

```yaml
---
title: "Security Overview"
description: "How Acme Corp protects your data"
weight: 1                    # controls section ordering (lower = first)
extra:
  type: overview             # overview | certification | policy | changelog
  framework: soc2            # links to data/trust/certifications.yaml entry
---
```

The `extra.type` field categorizes the page:
- `overview` — main security narrative
- `certification` — framework detail page (paired with `extra.framework`)
- `policy` — vulnerability disclosure, DPA, etc.
- `changelog` — security updates and changes

## Trust Center Index

The hub page at `/trust/` is rendered using `trust-index.html` and displays:

1. **Hero section** — company name and headline
2. **Certification grid** — cards from `data.trust.certifications` with status badges
3. **Content sections** — trust collection items ordered by weight
4. **Subprocessor table** — from `data.trust.subprocessors`
5. **FAQ accordion** — from `data.trust.faq`

All sections are conditional — if a data file is empty or missing, the section doesn't render.

## Configuration

The `[trust]` section in `page.toml` stores trust center metadata:

```toml
[trust]
company = "Acme Corp"
frameworks = ["soc2", "iso27001"]
```

- `company` — displayed on the trust center (defaults to `site.title`)
- `frameworks` — list of active framework slugs

## Common Tasks

```bash
# Add a new certification
page new trust "PCI DSS"

# Add a security update
page new trust "Q1 2026 Security Update" --tags changelog

# Create a translation
page new trust "Security Overview" --lang es

# Rebuild after editing data files
page build
```

## Multi-language Support

Data files (`data/trust/*.yaml`) are language-neutral — structured data like dates, statuses, and vendor names don't change per language.

Content pages get translated using the standard i18n filename convention:

```
content/trust/security-overview.md       # English → /trust/security-overview
content/trust/security-overview.es.md    # Spanish → /es/trust/security-overview
```

The trust center index is rendered per-language automatically.

## Template Customization

Override `templates/trust-index.html` or `templates/trust-item.html` to customize the layout. Template variables available:

- `data.trust.certifications` — array of certification objects
- `data.trust.subprocessors` — array of vendor objects
- `data.trust.faq` — array of Q&A objects
- `collections` — trust collection items (on index page)
- `page.extra.type` — content type (on item pages)
- `page.extra.framework` — framework slug for certification pages

## MCP Integration

The `page://trust` resource returns the full trust center state as JSON, including certifications, subprocessor count, FAQ count, and content items. Use `page_search` with `collection: "trust"` to find trust center content.


---

### AI Agent

*Use page agent to get AI assistance with content creation, site management, and theme generation.*

## Overview

`page` integrates directly with Claude Code. The `page agent` command spawns a Claude Code session pre-loaded with your site's full context — configuration, content inventory, templates, and available commands.

No API keys needed. It uses your Claude Code subscription directly.

## Setup

Install Claude Code:

```bash
npm install -g @anthropic-ai/claude-code
```

Verify it's available:

```bash
claude --version
```

## Interactive Mode

Launch an interactive session:

```bash
page agent
```

Claude receives a rich system prompt containing:
- Your site config (title, description, base URL, collections)
- Content inventory (titles, dates, tags of every existing page)
- Available templates
- Frontmatter format with examples
- File naming conventions
- All `page` CLI commands

You can ask it to write blog posts, reorganize content, update templates, debug build errors, or anything else.

{{% callout(type="info") %}}
The agent can run `page build` and `page serve` to verify its own changes. It will catch build errors, broken links, and template issues before you even look at the output.
{{% end %}}

## One-Shot Mode

Pass a prompt directly for non-interactive use:

```bash
page agent "create a blog post about Rust error handling best practices"
page agent "add a docs page explaining the deployment process"
page agent "update the homepage to include a features section"
```

Claude writes the files directly and exits.

## Example Prompts

Here are prompts that work well, grouped by use case:

### Content creation

```bash
page agent "write a technical tutorial about async Rust, include code examples and a summary"
page agent "create a blog post comparing static site generators, with a table of features"
page agent "add an FAQ page with 10 common questions about our product"
```

### Site management

```bash
page agent "add the tag 'tutorial' to all posts that contain code blocks"
page agent "create Spanish translations for all docs pages"
page agent "reorganize the docs into guides/ and reference/ subdirectories"
```

### Theme and design

```bash
page agent "update the homepage to add a testimonials section with three cards"
page agent "add a custom footer with social links and a newsletter signup"
```

### Debugging

```bash
page agent "the build is failing on my Spanish translations, help me fix it"
page agent "find and fix any broken internal links in my content"
page agent "my RSS feed is missing some posts, diagnose the issue"
```

## Tips for Effective Prompts

{{% callout(type="tip") %}}
Be specific about format and tone. "Write a 1500-word technical tutorial about Rust error handling with code examples" gives better results than "write a post about Rust".
{{% end %}}

{{% callout(type="tip") %}}
The agent already knows your site structure, collections, existing content, and frontmatter format. You don't need to explain where files go or what fields to include — just describe what you want.
{{% end %}}

## Theme Generation

Generate custom themes with AI:

```bash
page theme create "dark mode with neon green accents and brutalist layout"
```

Claude receives detailed instructions about required template blocks, available variables, SEO requirements, search patterns, and accessibility features. It writes `templates/base.html` directly.

## REPL Integration

The dev server REPL also supports the agent:

```
page> agent "write a post about our latest release"
```

This is useful for quick content creation while previewing your site.

## What the Agent Can Do

The agent has access to these tools:
- **Read** — read any file in your project
- **Write** — create new content files
- **Edit** — modify existing files
- **Glob** — find files by pattern
- **Grep** — search file contents
- **Bash** — run CLI commands (build, serve, deploy)

## Claude Code Scaffolding

When you run `page init`, it creates `.claude/settings.json` with pre-configured permissions and a `CLAUDE.md` with site-specific instructions for the agent. This means Claude Code immediately understands your site's structure and conventions.

## Next Steps

- [Theme Gallery](/docs/theme-gallery) — browse bundled themes and generate custom ones with AI
- [CLI Reference](/docs/cli-reference) — all `page agent` flags and options
- [Getting Started](/docs/getting-started) — initial site setup if you haven't started yet


---

### Workspaces

*Manage multiple page sites in a single repository with shared resources, unified dev server, and coordinated deploys.*

## Overview

A workspace lets you manage multiple `page` sites from a single directory. Each site has its own `page.toml`, content, and templates, but they share a root and can share data, static files, and templates.

Use cases:
- **Company site + blog + docs** as separate sites in one repo
- **Multi-brand** sites that share templates or data
- **Monorepo** with a marketing site and product documentation

## Quick Start

```bash
# Initialize a workspace
page workspace init my-workspace

# Add sites
page workspace add blog --collections posts,pages --title "Blog"
page workspace add docs --collections docs --title "Documentation"

# Build all sites
page build

# Serve all sites with unified dev server
page serve

# Build/serve a specific site
page build --site blog
page serve --site docs
```

## Creating a Workspace

```bash
page workspace init [name]
```

This creates:

```
my-workspace/
├── page-workspace.toml   # Workspace configuration
├── sites/                # Default directory for sites
├── data/                 # Shared data files
├── static/               # Shared static assets
└── templates/            # Shared templates
```

If you omit the name, an interactive prompt asks for it.

## Adding Sites

```bash
page workspace add <name> [options]
```

| Flag | Description |
|------|-------------|
| `--path` | Directory for the site (default: `sites/<name>`) |
| `--title` | Site title |
| `--collections` | Comma-separated collections (default: `posts,pages`) |

This creates a full site scaffold inside the workspace and registers it in `page-workspace.toml`:

```bash
page workspace add blog --collections posts,pages --title "My Blog"
page workspace add docs --collections docs --title "Documentation" --path sites/documentation
```

## Configuration

The workspace is configured through `page-workspace.toml` at the workspace root:

```toml
[workspace]
name = "my-workspace"

# Shared resources available to all sites (optional)
# shared_data = "data"
# shared_static = "static"
# shared_templates = "templates"

[[sites]]
name = "blog"
path = "sites/blog"
# base_url = "https://blog.example.com"   # Override site's base_url
# output_dir = "dist/blog"                # Override output location

[[sites]]
name = "docs"
path = "sites/docs"

# Cross-site features (optional)
# [cross_site]
# unified_sitemap = true
# cross_site_links = true
# unified_search = false
```

### Workspace Fields

| Field | Type | Description |
|-------|------|-------------|
| `workspace.name` | string | Workspace name |
| `workspace.shared_data` | string | Path to shared data directory |
| `workspace.shared_static` | string | Path to shared static assets |
| `workspace.shared_templates` | string | Path to shared templates |

### Site Fields

| Field | Type | Description |
|-------|------|-------------|
| `name` | string | Site identifier (used in `--site` flag and URL routing) |
| `path` | string | Path to the site directory (relative to workspace root) |
| `base_url` | string | Override the site's `base_url` from its `page.toml` |
| `output_dir` | string | Override output directory (relative to workspace root) |

Each site must have its own `page.toml` inside its directory.

## The --site Flag

When inside a workspace, `build`, `serve`, and `deploy` operate on **all sites** by default. Use the global `--site` flag to target a specific site:

```bash
page build --site blog       # Build only the blog
page deploy --site docs      # Deploy only the docs
page serve --site blog       # Serve only the blog
```

The `--site` flag is available on all commands when a `page-workspace.toml` is detected.

## Building

```bash
page build                   # Build all sites
page build --site blog       # Build one site
page build --strict          # Treat broken links as errors (per-site)
```

Each site is built independently with its own config and templates. Build output shows per-site progress:

```
[1/2] Building site 'blog'
✓ 12 posts, 3 pages (0.45s)
[2/2] Building site 'docs'
✓ 8 docs (0.32s)
── Workspace build complete ──
✓ blog: 12 posts, 3 pages | docs: 8 docs
```

Internal link validation runs per-site after each build.

## Development Server

```bash
page serve                   # Serve all sites
page serve --site blog       # Serve one site
```

The workspace dev server routes requests by site name:

- `http://localhost:3000/` — workspace index listing all sites
- `http://localhost:3000/blog/` — blog site
- `http://localhost:3000/docs/` — docs site

File watching is per-site — when you edit a blog post, only the blog rebuilds. Live reload works across all sites.

## Deploying

```bash
page deploy                  # Deploy all sites
page deploy --site blog      # Deploy one site
page deploy --dry-run        # Preview all deploys
```

Each site deploys according to its own `page.toml` deploy config. Sites can use different deploy targets — one on GitHub Pages, another on Cloudflare.

{{% callout(type="tip") %}}
Use `page deploy --site blog --dry-run` to preview a single site's deploy before pushing to production.
{{% end %}}

## Checking Status

```bash
page workspace list          # List all sites with config status
page workspace status        # Detailed workspace status (config, build state, titles)
```

## Workspace Detection

`page` automatically detects workspaces by walking up the directory tree looking for `page-workspace.toml`. This means you can run commands from anywhere inside the workspace:

```bash
cd my-workspace/sites/blog
page build                   # Detects workspace, builds all sites
page build --site blog       # Builds just the blog
```

If no `page-workspace.toml` is found, `page` operates in standalone mode using the local `page.toml`.

## Next Steps

- [Configuration](/docs/configuration) — site-level `page.toml` settings that each workspace site uses
- [Deployment](/docs/deployment) — deploy targets and options for each site
- [CLI Reference](/docs/cli-reference) — complete list of commands and flags


---

### MCP Server

*Structured AI access to site content, configuration, themes, and build tools via the Model Context Protocol.*

## Overview

`page` includes a built-in [MCP](https://modelcontextprotocol.io/) (Model Context Protocol) server that gives AI tools structured access to your site. When you open a page project in Claude Code, the MCP server starts automatically — no API keys or setup required.

The server exposes your site's documentation, configuration, content, and themes as **resources**, and provides **tools** for building, creating content, searching, and applying themes.

## How It Works

The MCP server runs as a subprocess (`page mcp`) communicating over stdio using JSON-RPC. Claude Code launches it automatically based on the configuration in `.claude/settings.json`:

```json
{
  "mcpServers": {
    "page": {
      "command": "page",
      "args": ["mcp"]
    }
  }
}
```

This is scaffolded by `page init` and can be added to existing projects with `page upgrade`.

## Resources

Resources are read-only data that AI tools can query. Each resource has a URI.

| Resource | URI | Description |
|----------|-----|-------------|
| Documentation index | `page://docs` | List of all documentation pages with titles and descriptions |
| Documentation page | `page://docs/{slug}` | Full markdown content of a specific doc page |
| Site configuration | `page://config` | Current `page.toml` serialized as JSON |
| Content overview | `page://content` | All collections with item counts |
| Collection items | `page://content/{collection}` | Items in a collection with metadata (title, date, tags, slug, url, draft status) |
| Themes | `page://themes` | Available bundled and installed themes |
| MCP configuration | `page://mcp-config` | The `.claude/settings.json` MCP server configuration |

Documentation resources are always available (they're embedded in the binary). Site-specific resources (`page://config`, `page://content/*`, `page://themes`, `page://mcp-config`) are only available when running inside a page project directory.

## Tools

Tools are actions that AI tools can execute.

### page_build

Build the site to the output directory.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `drafts` | boolean | No | Include draft content in the build (default: false) |

Returns build statistics including pages built per collection, timing, and any errors.

### page_create_content

Create a new content file with frontmatter.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `collection` | string | Yes | Collection name (`posts`, `docs`, or `pages`) |
| `title` | string | Yes | Title of the content |
| `tags` | string[] | No | Tags for the content |
| `body` | string | No | Markdown body content |
| `draft` | boolean | No | Create as draft |

Returns the file path, URL, and slug of the created content.

### page_search

Search site content by keywords.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `query` | string | Yes | Search keywords |
| `collection` | string | No | Limit search to a specific collection |

Matches against titles, descriptions, and tags. Returns up to 20 results with metadata.

### page_apply_theme

Apply a bundled or installed theme to the site.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `name` | string | Yes | Theme name (`default`, `minimal`, `dark`, `docs`, `brutalist`, `bento`, or an installed theme) |

### page_lookup_docs

Look up page documentation by topic or keyword.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `query` | string | No | Search keywords to find in documentation |
| `topic` | string | No | Specific doc topic slug (e.g., `configuration`, `templates`, `deployment`) |

When `topic` matches a doc slug, returns the full page. When `query` is provided, searches across all documentation and returns matching sections with context.

## Manual Testing

You can test the MCP server manually by sending JSON-RPC messages:

```bash
echo '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{}}' | page mcp
```

A full session requires the initialization handshake first, then queries:

```bash
printf '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{}}\n{"jsonrpc":"2.0","method":"notifications/initialized"}\n{"jsonrpc":"2.0","id":2,"method":"resources/list","params":{}}\n' | page mcp
```

## Next Steps

- [AI Agent](/docs/agent) — interactive AI sessions with `page agent`
- [CLI Reference](/docs/cli-reference) — the `page mcp` command reference
- [Configuration](/docs/configuration) — the full `page.toml` reference


---

### Theme Gallery

*Browse all bundled themes with visual previews. Install community themes or generate your own with AI.*

## Bundled Themes

Six production-ready themes ship with every `page` binary. Each is self-contained — includes SEO meta tags, search, pagination, language switcher, and accessibility features. Apply any theme instantly:

```bash
page theme apply <name>
```

<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 24px; margin: 32px 0;">

<div style="border: 1px solid #e2e2e2; border-radius: 12px; overflow: hidden;">
<div style="padding: 24px 20px 16px; background: #ffffff; font-family: system-ui, -apple-system, sans-serif; min-height: 140px;">
<div style="font-size: 11px; color: #0057b7; font-weight: 600; letter-spacing: 0.5px; margin-bottom: 8px;">DEFAULT</div>
<div style="font-size: 18px; font-weight: 700; color: #111; margin-bottom: 6px;">Clean Readable Baseline</div>
<div style="font-size: 13px; color: #555; line-height: 1.5; margin-bottom: 12px;">720px centered column, system-ui font stack, blue links. The sensible starting point for any site.</div>
<div style="display: flex; gap: 6px;">
<span style="width: 20px; height: 20px; border-radius: 50%; background: #ffffff; border: 1px solid #ddd; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #111111; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #0057b7; display: inline-block;"></span>
</div>
</div>
<div style="padding: 10px 20px; background: #f8f8f8; border-top: 1px solid #e2e2e2; font-size: 13px; font-family: monospace; color: #555;">page theme apply default</div>
</div>

<div style="border: 1px solid #e2e2e2; border-radius: 12px; overflow: hidden;">
<div style="padding: 24px 20px 16px; background: #faf9f6; font-family: Georgia, 'Times New Roman', serif; min-height: 140px;">
<div style="font-size: 11px; color: #888; font-weight: 600; letter-spacing: 0.5px; margin-bottom: 8px; font-family: system-ui, sans-serif;">MINIMAL</div>
<div style="font-size: 18px; font-weight: 700; color: #1a1a1a; margin-bottom: 6px;">Typography First</div>
<div style="font-size: 13px; color: #555; line-height: 1.5; margin-bottom: 12px;">600px column, Georgia serif, understated search. Literary feel that lets content breathe.</div>
<div style="display: flex; gap: 6px;">
<span style="width: 20px; height: 20px; border-radius: 50%; background: #faf9f6; border: 1px solid #ddd; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #1a1a1a; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #888888; display: inline-block;"></span>
</div>
</div>
<div style="padding: 10px 20px; background: #f0eeeb; border-top: 1px solid #e2e2e2; font-size: 13px; font-family: monospace; color: #555;">page theme apply minimal</div>
</div>

<div style="border: 1px solid #333; border-radius: 12px; overflow: hidden;">
<div style="padding: 24px 20px 16px; background: #0a0a0a; min-height: 140px;">
<div style="font-size: 11px; color: #8b5cf6; font-weight: 600; letter-spacing: 0.5px; margin-bottom: 8px; font-family: system-ui, sans-serif;">DARK</div>
<div style="font-size: 18px; font-weight: 700; color: #e8e8e8; margin-bottom: 6px; font-family: system-ui, sans-serif;">True Black + Violet</div>
<div style="font-size: 13px; color: #999; line-height: 1.5; margin-bottom: 12px; font-family: system-ui, sans-serif;">True black background, violet accent, styled focus rings. Easy on the eyes, day or night.</div>
<div style="display: flex; gap: 6px;">
<span style="width: 20px; height: 20px; border-radius: 50%; background: #0a0a0a; border: 1px solid #333; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #e8e8e8; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #8b5cf6; display: inline-block;"></span>
</div>
</div>
<div style="padding: 10px 20px; background: #111; border-top: 1px solid #333; font-size: 13px; font-family: monospace; color: #999;">page theme apply dark</div>
</div>

<div style="border: 1px solid #d0d7de; border-radius: 12px; overflow: hidden;">
<div style="padding: 24px 20px 16px; background: #ffffff; font-family: system-ui, -apple-system, sans-serif; min-height: 140px;">
<div style="font-size: 11px; color: #0969da; font-weight: 600; letter-spacing: 0.5px; margin-bottom: 8px;">DOCS</div>
<div style="font-size: 18px; font-weight: 700; color: #1f2328; margin-bottom: 6px;">Sidebar Documentation</div>
<div style="font-size: 13px; color: #656d76; line-height: 1.5; margin-bottom: 12px;">Fixed 260px sidebar with auto-scrolling nav. GitHub-style colors. Built for technical docs.</div>
<div style="display: flex; gap: 6px;">
<span style="width: 20px; height: 20px; border-radius: 50%; background: #ffffff; border: 1px solid #ddd; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #1f2328; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #0969da; display: inline-block;"></span>
</div>
</div>
<div style="padding: 10px 20px; background: #f6f8fa; border-top: 1px solid #d0d7de; font-size: 13px; font-family: monospace; color: #656d76;">page theme apply docs</div>
</div>

<div style="border: 3px solid #000000; overflow: hidden;">
<div style="padding: 24px 20px 16px; background: #fffef0; font-family: system-ui, -apple-system, sans-serif; min-height: 140px;">
<div style="font-size: 11px; color: #000; font-weight: 900; letter-spacing: 0.5px; margin-bottom: 8px;">BRUTALIST</div>
<div style="font-size: 18px; font-weight: 900; color: #000; margin-bottom: 6px;">Hard Edges, Bold Type</div>
<div style="font-size: 13px; color: #333; line-height: 1.5; margin-bottom: 12px;">Cream background, 3px borders, hard shadows, yellow accent. Zero border-radius. Maximum impact.</div>
<div style="display: flex; gap: 6px;">
<span style="width: 20px; height: 20px; background: #fffef0; border: 2px solid #000; display: inline-block;"></span>
<span style="width: 20px; height: 20px; background: #000000; display: inline-block;"></span>
<span style="width: 20px; height: 20px; background: #ffe600; border: 2px solid #000; display: inline-block;"></span>
</div>
</div>
<div style="padding: 10px 20px; background: #ffe600; border-top: 3px solid #000; font-size: 13px; font-family: monospace; color: #000; font-weight: 700;">page theme apply brutalist</div>
</div>

<div style="border: 1px solid #e8e4df; border-radius: 20px; overflow: hidden;">
<div style="padding: 24px 20px 16px; background: #f4f0eb; font-family: system-ui, -apple-system, sans-serif; min-height: 140px;">
<div style="font-size: 11px; color: #5046e5; font-weight: 600; letter-spacing: 0.5px; margin-bottom: 8px;">BENTO</div>
<div style="font-size: 18px; font-weight: 700; color: #1a1a1a; margin-bottom: 6px;">Card Grid Layout</div>
<div style="font-size: 13px; color: #555; line-height: 1.5; margin-bottom: 12px;">CSS grid, mixed card sizes, rounded corners, soft shadows. Dark and indigo accent cards for rhythm.</div>
<div style="display: flex; gap: 6px;">
<span style="width: 20px; height: 20px; border-radius: 50%; background: #f4f0eb; border: 1px solid #ddd; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #1a1a1a; display: inline-block;"></span>
<span style="width: 20px; height: 20px; border-radius: 50%; background: #5046e5; display: inline-block;"></span>
</div>
</div>
<div style="padding: 10px 20px; background: #e8e4df; border-top: 1px solid #ddd; font-size: 13px; font-family: monospace; color: #555; border-radius: 0 0 20px 20px;">page theme apply bento</div>
</div>

</div>

{{% callout(type="tip") %}}
In the dev server REPL, type `theme dark` to instantly preview any theme with live reload — no restart needed.
{{% end %}}

## Install Community Themes

Download and install themes shared by others:

```bash
# Install from a URL
page theme install https://example.com/themes/aurora.tera

# Install with a custom name
page theme install https://example.com/themes/aurora.tera --name my-aurora
```

Installed themes are saved to `templates/themes/<name>.tera` and appear in `page theme list`. Apply them like any bundled theme:

```bash
page theme apply aurora
```

## Export & Share Your Theme

Package your current theme for others to install:

```bash
# Export with a description
page theme export my-theme --description "Dark theme with green accents"

# The theme is saved to templates/themes/my-theme.tera
```

Host the `.tera` file anywhere (GitHub, your own server, a Gist) and others can install it with `page theme install <url>`.

## Generate Custom Themes with AI

Instead of browsing themes, describe what you want and let AI build it:

```bash
page theme create "minimal dark theme with cyan accents and generous whitespace"
page theme create "warm editorial design with serif headings and earth tones"
page theme create "neon cyberpunk with scanline effects and monospace everything"
```

This spawns Claude Code to generate a complete `templates/base.html` with all required blocks, SEO tags, search, pagination, and accessibility features. Requires [Claude Code](https://docs.anthropic.com/en/docs/claude-code) installed.

{{% callout(type="info") %}}
AI-generated themes are production-ready — Claude includes all SEO meta tags, search functionality, pagination, accessibility features, and responsive design automatically.
{{% end %}}

After generating, export it to share:

```bash
page theme export cyberpunk --description "Neon cyberpunk with scanlines"
# Share templates/themes/cyberpunk.tera with anyone
```

## Theme Anatomy

Every theme (bundled or installed) is a single Tera template file that serves as `base.html`. A valid theme must include:

- **HTML structure** — `<!DOCTYPE html>` through `</html>`
- **SEO meta tags** — canonical URL, Open Graph, Twitter Card, JSON-LD
- **Template blocks** — `title`, `head`, `extra_css`, `header`, `content`, `footer`, `extra_js`
- **Search** — search input + client-side JavaScript using `search-index.json`
- **Pagination** — navigation when pagination context exists
- **Language switcher** — hreflang links + switcher UI for multilingual sites
- **Accessibility** — skip-to-main link, ARIA labels, focus rings, `prefers-reduced-motion`

All inline CSS (no external stylesheets) so the theme is completely self-contained.

## Managing Themes

```bash
page theme list              # Show all bundled + installed themes
page theme apply <name>      # Apply a theme (writes templates/base.html)
page theme install <url>     # Download a theme from a URL
page theme export <name>     # Export current theme as shareable .tera file
page theme create "<prompt>" # Generate a custom theme with AI
```

In the dev server REPL, type `theme` to list themes or `theme <name>` to apply and auto-rebuild.

## Next Steps

- [Templates & Themes](/docs/templates) — customize theme blocks, override templates, and use data files
- [AI Agent](/docs/agent) — use Claude for content creation, site management, and more


---

### CLI Reference

*Complete reference for all page CLI commands, flags, and options.*

{{% callout(type="tip") %}}
Run `page <command> --help` for quick inline help on any command.
{{% end %}}

## Overview

`page` has eleven subcommands:

| Command | Description |
|---------|-------------|
| `init`  | Create a new site |
| `build` | Build the site |
| `serve` | Development server with live reload |
| `new`   | Create content files |
| `agent` | AI assistant with site context |
| `theme` | Manage themes |
| `deploy`| Deploy to hosting platforms |
| `workspace` | Manage multi-site workspaces |
| `mcp`   | MCP server for AI tool integration |
| `upgrade` | Update project config to match current binary |
| `self-update` | Update the page binary to the latest release |

### Global Flags

These flags work with any command:

| Flag | Description |
|------|-------------|
| `--site <name>` | Target a specific site in a workspace |
| `--config <path>` | Path to config file |
| `--dir <path>` | Project directory |
| `--verbose` | Enable verbose logging |
| `--json` | Output results as JSON |

## page init

Create a new site directory with scaffolded structure.

```bash
page init <name> [options]
```

| Flag | Description |
|------|-------------|
| `--title` | Site title |
| `--description` | Site description |
| `--deploy-target` | `github-pages`, `cloudflare`, or `netlify` |
| `--collections` | Comma-separated list: `posts,docs,pages,changelog,roadmap` |

If flags are omitted, `page init` prompts interactively.

```bash
# Non-interactive
page init mysite --title "My Blog" --deploy-target github-pages --collections posts,pages

# Interactive
page init mysite
```

## page build

Build the site from `page.toml` in the current directory.

```bash
page build [options]
```

| Flag | Description |
|------|-------------|
| `--drafts` | Include draft content in the build |
| `--strict` | Treat broken internal links as build errors |

The build pipeline runs 12 steps: clean output, load templates, process collections, render pages, generate RSS, sitemap, discovery files, markdown output, search index, copy static files, process images, and post-process HTML. Per-step timing is shown in the output.

After building, `page build` validates all internal links in the generated HTML. Broken links (e.g., links pointing to `/posts/missing-slug`) are reported as warnings by default. Use `--strict` to fail the build when broken links are found — useful in CI pipelines.

## page serve

Start a development server with live reload.

```bash
page serve [options]
```

| Flag | Description |
|------|-------------|
| `--port` | Starting port (default: 3000, auto-increments if taken) |
| `--drafts` | Include drafts |

The server injects a live-reload script that polls for changes. An interactive REPL accepts commands:

- `new <collection> "Title"` — create content
- `agent [prompt]` — launch AI agent
- `theme apply <name>` — apply theme and rebuild
- `build` — rebuild the site
- `status` — show server info
- `stop` — stop the server

## page new

Create a new content file with frontmatter.

```bash
page new <collection> "Title" [options]
```

| Flag | Description |
|------|-------------|
| `--tags` | Comma-separated tags |
| `--lang` | Language code for translations (e.g., `es`, `fr`) |

```bash
page new post "My Post" --tags rust,web
page new doc "API Guide"
page new page "About"
page new post "Mi Post" --lang es    # Spanish translation
page new changelog "v1.0.0" --tags new,improvement
page new roadmap "Dark Mode" --tags planned
```

## page agent

Launch an AI assistant with full site context.

```bash
page agent [prompt]
```

Two modes:
- **Interactive**: `page agent` — opens a Claude Code session
- **One-shot**: `page agent "write a blog post about Rust"` — runs and exits

The agent receives your site config, content inventory, template list, and available CLI commands. It can read, write, and edit files. Requires Claude Code: `npm install -g @anthropic-ai/claude-code`.

## page collection

Manage site collections — add presets to an existing site or list current collections.

```bash
page collection <subcommand>
```

| Subcommand | Description |
|------------|-------------|
| `add <preset>` | Add a collection preset to the current site (updates `page.toml`, creates content directory) |
| `list` | List all collections in the current site with their configuration |

Available presets: `posts`, `docs`, `pages`, `changelog`, `roadmap`, `trust`.

```bash
page collection add changelog    # Add changelog collection
page collection add roadmap      # Add roadmap collection
page collection list             # Show all configured collections
```

## page theme

Manage site themes — list, apply, install, export, and generate.

```bash
page theme <subcommand>
```

| Subcommand | Description |
|------------|-------------|
| `list` | Show all available themes (bundled + installed) |
| `apply <name>` | Apply a bundled or installed theme |
| `create "<description>"` | Generate a custom theme with AI |
| `install <url>` | Download and install a theme from a URL |
| `export <name>` | Export the current theme as a shareable `.tera` file |

```bash
page theme list
page theme apply dark
page theme create "brutalist with neon green accents"
page theme install https://example.com/themes/aurora.tera
page theme install https://example.com/themes/aurora.tera --name my-aurora
page theme export my-theme --description "My custom dark theme"
```

Six bundled themes: `default`, `minimal`, `dark`, `docs`, `brutalist`, `bento`. Installed themes are stored in `templates/themes/` and listed alongside bundled themes. See the [Theme Gallery](/docs/theme-gallery) for visual previews.

## page deploy

Deploy the built site.

```bash
page deploy [options]
```

| Flag | Description |
|------|-------------|
| `--target` | Override deploy target (`github-pages`, `cloudflare`, `netlify`) |
| `--dry-run` | Preview what would be deployed without deploying |
| `--domain` | Set up a custom domain (prints DNS records, updates config, attaches to platform) |
| `--setup` | Run guided deploy setup |
| `--skip-checks` | Skip pre-flight checks |
| `--base-url` | Override base URL for this deploy |
| `--no-commit` | Skip auto-commit and push (overrides `deploy.auto_commit`) |

```bash
page deploy                          # Commit, push, build, and deploy
page deploy --no-commit              # Deploy without auto-commit/push
page deploy --dry-run                # Preview changes
page deploy --target netlify         # Override target
page deploy --target cloudflare --dry-run
page deploy --domain example.com     # Set up custom domain
page deploy --setup                  # Guided setup wizard
```

## page workspace

Manage multi-site workspaces. See the [Workspaces](/docs/workspace) guide for full details.

```bash
page workspace <subcommand>
```

| Subcommand | Description |
|------------|-------------|
| `init [name]` | Initialize a new workspace in the current directory |
| `list` | List all sites in the workspace |
| `add <name>` | Add a new site to the workspace |
| `status` | Show detailed workspace status |

### workspace add flags

| Flag | Description |
|------|-------------|
| `--path` | Site directory path (default: `sites/<name>`) |
| `--title` | Site title |
| `--collections` | Comma-separated collections (default: `posts,pages`) |

```bash
page workspace init my-workspace
page workspace add blog --collections posts,pages --title "Blog"
page workspace add docs --collections docs --path sites/documentation
page workspace list
page workspace status
```

When inside a workspace, `build`, `serve`, and `deploy` operate on all sites by default. Use `--site` to target one:

```bash
page build --site blog               # Build only the blog
page serve --site docs               # Serve only the docs
page deploy --site blog --dry-run    # Preview blog deploy
```

## page mcp

Start the MCP (Model Context Protocol) server for AI tool integration. Communicates over stdio using JSON-RPC.

```bash
page mcp
```

This command is designed to be spawned automatically by Claude Code (or other MCP clients) as a subprocess. It is configured in `.claude/settings.json` during `page init` and requires no manual invocation.

The server exposes **resources** (documentation, site config, content, themes) and **tools** (build, create content, search, apply theme, lookup docs). See the [MCP Server](/docs/mcp-server) guide for full details.

{{% callout(type="info") %}}
You don't need to run this command manually. Claude Code starts it automatically when you open a page project. Use `page upgrade` to add the MCP configuration to existing projects.
{{% end %}}

## page upgrade

Update project configuration files to match the current binary version. When you upgrade the `page` binary, your existing project may lack new config entries (e.g., MCP server settings). This command detects what's outdated and applies additive, non-destructive changes.

```bash
page upgrade [options]
```

| Flag | Description |
|------|-------------|
| `--force` | Apply all upgrades without confirmation |
| `--check` | Check for needed upgrades without applying (exits with code 1 if outdated) |

```bash
page upgrade                # Interactive: shows changes, asks for confirmation
page upgrade --force        # Apply all changes without prompting
page upgrade --check        # CI mode: exit 1 if upgrades needed, 0 if current
```

Upgrade is **additive and non-destructive**:
- Merges into `.claude/settings.json` — adds new entries, never removes yours
- Appends to `CLAUDE.md` — adds new sections, never modifies existing content
- Creates `.page/config.json` if missing — tracks the project's config version
- Each upgrade step is version-gated, so running it on a current project is a fast no-op

{{% callout(type="tip") %}}
`page build` will nudge you with a one-liner when your project config is outdated: *"Run `page upgrade` for new features."* The build still succeeds — the nudge is informational only.
{{% end %}}

## page self-update

Update the `page` binary itself to the latest release (or a specific version).

```bash
page self-update [options]
```

| Flag | Description |
|------|-------------|
| `--check` | Check for updates without installing |
| `--target-version` | Update to a specific version (e.g., `0.2.0` or `v0.2.0`) |

```bash
page self-update                          # Update to latest release
page self-update --check                  # Just check, don't install
page self-update --target-version 0.2.0   # Pin a specific version
```

The command downloads the appropriate binary for your platform from GitHub Releases, verifies the SHA256 checksum, and replaces the running binary atomically.

{{% callout(type="info") %}}
After updating the binary, run `page upgrade` in each of your projects to bring their config files up to date.
{{% end %}}


---

### Releases

*Release history and changelog for page.*

## v0.1.0

Initial release.

**Build pipeline:**
- 13-step build pipeline producing HTML, markdown, RSS, sitemap, search index, and LLM discovery files
- Image processing: auto-resize, WebP conversion, srcset, lazy loading
- Asset pipeline with CSS/JS minification and fingerprinted filenames
- Internal link validation at build time

**Content:**
- 6 collection presets: posts, docs, pages, changelog, roadmap, trust center
- 5 built-in shortcodes: youtube, vimeo, gist, callout, figure — plus user-defined shortcodes
- Data files (YAML/JSON/TOML) injected into template context
- Multi-language (i18n) with per-language URLs, RSS feeds, sitemaps, and hreflang tags
- Pagination, tag pages, table of contents, excerpts, reading time and word count

**Themes:**
- 6 bundled themes: default, minimal, dark, docs, brutalist, bento
- AI-generated custom themes via `page theme create`
- Theme install/export for community sharing

**AI integration:**
- `page agent` spawns Claude Code with full site context
- MCP server (`page mcp`) with 5 tools and 6+ resources for AI tool integration
- Every site ships with `llms.txt`, `llms-full.txt`, and raw markdown

**Deploy:**
- GitHub Pages, Cloudflare Pages, and Netlify with guided setup
- Pre-flight checks, `--dry-run` preview, custom domain management
- Post-deploy verification, preview/staging deploys

**Developer experience:**
- Interactive dev server with REPL and live reload
- Analytics support (Google, GTM, Plausible, Fathom, Umami) with cookie consent
- Multi-site workspaces
- `page collection add` for adding collections to existing sites
- Self-update from GitHub Releases with checksum verification
- Shell installer for macOS/Linux, PowerShell installer for Windows


---

## Pages

### About

*page is an AI-native static site generator built with Rust. Zero runtime JavaScript, six bundled themes, single binary.*

## About page

**page** is a static site generator built with Rust, designed from the ground up for the AI era.

### Design Philosophy

**AI-native output.** Every page generates HTML for browsers, markdown for LLMs, and structured data for search engines. Your site ships with `llms.txt` and `llms-full.txt` discovery files so AI systems can understand your content.

**Zero runtime JavaScript.** Search, navigation, and theme switching work without JavaScript frameworks. The only JS is a lightweight search script that lazy-loads when the search input is focused.

**Single binary.** All six themes are compiled into the binary. No downloads, no node_modules, no build dependencies. `cargo install page` and you're ready.

**Convention over configuration.** Three collection presets (posts, docs, pages) cover most use cases. Frontmatter is YAML. Templates are Tera (Jinja2-compatible). Dates are parsed from filenames. Tags generate archive pages. It just works.

### Built With

- **Rust** — fast builds, reliable deploys, single binary distribution
- **Tera** — Jinja2-compatible templates
- **pulldown-cmark** — CommonMark markdown parsing
- **syntect** — syntax highlighting (base16-ocean.dark theme)
- **image** — image resizing and WebP conversion
- **Claude Code** — AI agent integration for content creation and theme generation

### Open Source

page is open source. Contributions, issues, and feedback are welcome.

[View on GitHub](https://github.com/sanchezomar/page)


---

## Changelog

### v0.1.0

*Initial release of page — AI-native static site generator*

Initial public release.

## Build Pipeline

- 13-step build pipeline producing HTML, markdown, RSS, sitemap, search index, and LLM discovery files
- Image processing: auto-resize, WebP conversion, srcset, lazy loading
- Asset pipeline with CSS/JS minification and fingerprinted filenames
- Pagination, tag pages, table of contents, excerpts, reading time and word count
- Internal link validation at build time

## Content

- 6 collection presets: posts, docs, pages, changelog, roadmap, trust center
- 5 built-in shortcodes: youtube, vimeo, gist, callout, figure — plus user-defined shortcodes
- Data files (YAML/JSON/TOML) injected into templates
- Multi-language (i18n) with per-language URLs, RSS feeds, sitemaps, and hreflang tags

## Themes

- 6 bundled themes: default, minimal, dark, docs, brutalist, bento
- AI-generated custom themes via `page theme create`
- Theme install/export for community sharing

## AI Integration

- `page agent` spawns Claude Code with full site context
- MCP server (`page mcp`) with 5 tools and 6+ resources for AI tool integration
- Every site ships with `llms.txt`, `llms-full.txt`, and raw markdown

## Deploy

- GitHub Pages, Cloudflare Pages, and Netlify with guided setup
- Pre-flight checks, `--dry-run` preview, custom domain management
- Post-deploy verification, preview/staging deploys

## Developer Experience

- Interactive dev server with REPL and live reload
- Analytics support (Google, GTM, Plausible, Fathom, Umami) with cookie consent
- Multi-site workspaces
- Self-update from GitHub Releases with checksum verification
- Shell installer for macOS/Linux, PowerShell installer for Windows


---

## Roadmap

### Multi-LLM Agent Integration

*Support Claude Code, OpenCode, Codex CLI, and Gemini CLI as interchangeable agent backends*

Support Claude Code, OpenCode, Codex CLI, and Gemini CLI as interchangeable agent backends. Currently `page agent` only works with Claude Code.

## Key Components

- **Provider abstraction** — `AgentProvider` trait with per-provider implementations for command construction, tool name mapping, streaming JSON parsing, and MCP config generation
- **`[agent]` config section** — provider selection and optional model override in `page.toml`
- **`AGENTS.md` migration** — migrate from `.claude/CLAUDE.md` to the cross-tool `AGENTS.md` standard
- **MCP config generation** — write provider-specific MCP config for all detected tools
- **CLI detection** — auto-detect installed agent tools during `page init`
- **`page agent switch`** — change default provider
- **`page agent doctor`** — health check for agent configuration
- **`page agent --provider`** — one-off provider override
- **Stream event parsers** — normalize provider-specific JSONL events to a common format


---

### Incremental Builds

*Only rebuild changed pages in dev mode for faster iteration on large sites*

Only rebuild changed pages in dev mode. Track content file mtimes, template dependencies, and config changes to determine the minimum rebuild set. Critical for sites with 100+ pages where full rebuilds slow down the dev loop.


---

### External Data Sources

*Fetch JSON/YAML from URLs at build time and inject into template context*

Fetch JSON/YAML from URLs at build time and inject into template context. A `[data_sources]` section in `page.toml` with `name`, `url`, and `format` fields. Fetch at build step 3, merge with filesystem content. Enables pulling content from any CMS, API, or database.


---

### Math and LaTeX Rendering

*Server-side KaTeX rendering for inline and display math blocks in markdown*

Server-side KaTeX or MathJax rendering in markdown. Render `$inline$` and `$$display$$` math blocks to HTML during markdown processing. Important for technical and academic sites.


---

### AVIF Image Format

*Generate AVIF variants alongside WebP in the image pipeline*

Generate AVIF variants alongside WebP in the image pipeline. AVIF is smaller than WebP at comparable quality. Add to `<picture>` element sources with proper type attribute.


---

### Related Posts

*Auto-suggest related content based on shared tags and keywords*

Auto-suggest related content based on shared tags and keywords, available as `{{ page.related }}` in templates. Use tag overlap and TF-IDF on titles/descriptions to rank similarity. Show top 3-5 related items per page.


---

### Theme Community Ecosystem

*Curated theme registry, browse command, validation, and contributor guide*

Build discoverability and a contributor on-ramp for community themes.

- **Curated theme registry** — `themes.json` listing community themes with name, description, author, install URL, and preview
- **`page theme browse`** — fetch and display available community themes with filtering
- **`page theme validate`** — check a `.tera` file for required blocks, SEO meta, accessibility, and search JS before publishing
- **GitHub discovery** — `page-theme` topic, template repo, naming conventions
- **Community showcase** — gallery on pagecli.dev with live previews and one-click install
- **Contributor guide** — docs page explaining how to create, test, validate, and submit themes


---

### Deploy History and Rollback

*Track deploy history with content hashing, diff previews, and one-command rollback*

Track deploy history and enable rollback.

- **Deploy log** — `.deploy-log.json` with timestamp, target, commit hash, build duration, and content hash
- **Deploy diff** — `page deploy --dry-run` shows new/modified/deleted files compared to last deploy
- **Rollback** — `page deploy rollback` restores previous deploy using Netlify/Cloudflare APIs or git history
- **Atomic deploys** — skip deploy if content hash unchanged since last deploy


---

### Environment-Aware Builds

*Auto-detect CI environments and support multi-environment config sections*

Detect CI environment variables (`GITHUB_ACTIONS`, `NETLIFY`, `CF_PAGES`) and auto-configure behavior — skip prompts, use env secrets for base_url. Support `[deploy.production]` and `[deploy.staging]` config sections with different base_url, targets, and settings.


---

### S3 Hosting Target

*AWS S3 + CloudFront deploy support*

AWS S3 + CloudFront support via `aws s3 sync` wrapper. Post-deploy webhook support (Slack, Discord, email) for team workflows.


---

### Subdomain Deploys

*Per-collection subdomain support for deploying collections to separate domains*

Per-collection subdomain support (`subdomain = "docs"` on a collection maps to `docs.example.com`). Three phases: per-collection output directory override, per-collection base_url for URL resolution, and multi-deploy orchestration looping over subdomain configs.


---

